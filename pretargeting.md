# Cat-Scan QPS Optimization & Pretargeting Guide

**Version:** 1.0 | **Last Updated:** December 12, 2025

> **Philosophy:** Intelligence without assumptions. Facts that drive action.

---

## Roadmap Summary

### Vision: Agentic QPS Optimization

Inspired by the [Agentic AI Foundation (AAIF)](https://aaif.io/) approachâ€”where AI proposes and humans approveâ€”Cat-Scan will evolve from a reporting tool to an intelligent optimization agent.

### Three Tiers of Control

| Tier | Mode | Description |
|------|------|-------------|
| **1. Manual** | Human-driven | View data, make all changes manually in Google UI |
| **2. Assisted** | AI proposes, human approves | AI generates recommendations, user reviews and applies |
| **3. Autonomous** | AI-controlled with guardrails | AI makes changes within user-defined limits (future) |

### UX Design: Config Management

**Top Section - Config Cards (per billing_id):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Africa/Asia (72245759413)         QPS: 50K  Budget: $1,200/day â”‚
â”‚  â–¼ Expand Settings                                    [Edit â–¼]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Geos: BF, BR, CI, CM, EG, NG, SA, SE, IN, PH, KZ    [Edit]    â”‚
â”‚  Sizes: (all)                                         [Edit]    â”‚
â”‚  Platforms: Android, iOS                              [Edit]    â”‚
â”‚  Creatives: 127 assigned  [Select All] [Invert All]  [Edit]    â”‚
â”‚  Apps: Whitelist (45 apps)                            [Edit]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Recommended Optimization Panel:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ RECOMMENDED OPTIMIZATIONS                      [AI Mode: â–¼] â”‚
â”‚                                                                 â”‚
â”‚  Based on 7-day analysis, here's where to cut waste:            â”‚
â”‚                                                                 â”‚
â”‚  1. âš ï¸ Size Mismatch (HIGH IMPACT)                              â”‚
â”‚     Block 5 sizes you can't serve â†’ Save 2,340 QPS/day          â”‚
â”‚     [View Details] [Apply to Config â–¼] [Approve]                â”‚
â”‚                                                                 â”‚
â”‚  2. âš ï¸ Config #5 Underperforming                                â”‚
â”‚     CA/MX has 50.8% win rate vs 76.5% avg                       â”‚
â”‚     Suggested: Narrow geo targeting or reduce QPS cap           â”‚
â”‚     [View Details] [Approve] [Dismiss]                          â”‚
â”‚                                                                 â”‚
â”‚  3. ğŸ’¡ Opportunity: 360x300 has 11K QPS/day                     â”‚
â”‚     Create creative for this size to capture traffic            â”‚
â”‚     [View Details] [Dismiss]                                    â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ AI Control Settings                                      â”‚   â”‚
â”‚  â”‚ â—‹ Manual only (I'll make all changes)                    â”‚   â”‚
â”‚  â”‚ â— Propose changes (AI suggests, I approve)               â”‚   â”‚
â”‚  â”‚ â—‹ Auto-optimize (within limits I set) [Coming Soon]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Sources

| Source | Data Available | Update Frequency |
|--------|----------------|------------------|
| **RTB Creatives API** | Creative metadata, approval status, sizes | On-demand sync |
| **RTB Pretargeting API** | Config settings, geos, sizes, apps | On-demand sync |
| **Daily CSV Export** | Performance: impressions, clicks, spend, reached_queries | Daily (Gmail import) |

**Note:** There is no Google Reporting API. Performance data must come from CSV exports.

### API Integration Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CAT-SCAN ARCHITECTURE                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Google    â”‚    â”‚   Google    â”‚    â”‚   Gmail     â”‚         â”‚
â”‚  â”‚ RTB API v1  â”‚    â”‚ RTB API v2  â”‚    â”‚   API       â”‚         â”‚
â”‚  â”‚ (Creatives) â”‚    â”‚(Pretarget)  â”‚    â”‚ (CSV fetch) â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                  â”‚                  â”‚                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                      â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              CAT-SCAN BACKEND (FastAPI)                  â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ Data Layer   â”‚  â”‚ Analysis     â”‚  â”‚ Recommendationâ”‚   â”‚   â”‚
â”‚  â”‚  â”‚ (SQLite)     â”‚  â”‚ Engine       â”‚  â”‚ Engine (AI)   â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ MCP Server (Model Context Protocol)              â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ - Exposes Cat-Scan data to AI agents             â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ - Allows Claude to query configs & performance   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ - AI can propose changes via approval workflow   â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚                                          â”‚
â”‚                      â–¼                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              NEXT.JS DASHBOARD                           â”‚   â”‚
â”‚  â”‚  - Config management UI                                  â”‚   â”‚
â”‚  â”‚  - Approval workflow for AI recommendations              â”‚   â”‚
â”‚  â”‚  - Real-time optimization status                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Implementation Phases

| Phase | Scope | Status |
|-------|-------|--------|
| **Phase 1: View** | Display configs, show performance data | âœ… Done |
| **Phase 2: Analyze** | Size coverage, waste detection, fraud signals | âœ… Done |
| **Phase 3: Recommend** | AI-generated optimization suggestions | ğŸ”„ In Progress |
| **Phase 4: Edit** | Edit configs from Cat-Scan UI (API write) | ğŸ“‹ Planned |
| **Phase 5: Automate** | AI-controlled optimization with approval workflow | ğŸ“‹ Future |

### Rollback & Change History

Every change is recorded and reversible. Critical for safe optimization.

**Change History Table (existing schema):**
```sql
-- Already in schema: tracks all config changes
CREATE TABLE config_changes (
    id INTEGER PRIMARY KEY,
    billing_id TEXT NOT NULL,
    change_type TEXT NOT NULL,  -- 'size_filter', 'geo_add', 'geo_remove', 'app_whitelist', etc.
    field_changed TEXT NOT NULL,
    old_value TEXT,             -- JSON of previous state
    new_value TEXT,             -- JSON of new state
    reason TEXT,                -- Why the change was made
    made_by TEXT,               -- 'user', 'ai_approved', 'ai_auto'
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    rolled_back_at TIMESTAMP,   -- NULL if still active
    rolled_back_by TEXT
);
```

**Rollback UX:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CHANGE HISTORY                              [Filter: All â–¼]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Dec 12, 2025 14:32 - Africa/Asia (72245759413)          â”‚   â”‚
â”‚  â”‚ Changed: Size Filter                                     â”‚   â”‚
â”‚  â”‚ Added: 300x250, 320x50, 728x90, 160x600 (INCLUDE list)  â”‚   â”‚
â”‚  â”‚ Reason: "AI recommendation - eliminate 25% size waste"   â”‚   â”‚
â”‚  â”‚ Made by: AI (user approved)                              â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ Impact since change: â†“ 23% waste, â†‘ 12% win rate        â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ [View Details] [Rollback This Change]                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Dec 10, 2025 09:15 - USEast CA/MX (151274651962)        â”‚   â”‚
â”‚  â”‚ Changed: Geo Targeting                                   â”‚   â”‚
â”‚  â”‚ Removed: MX (Mexico)                                     â”‚   â”‚
â”‚  â”‚ Reason: "Low win rate in MX - 32% vs 76% avg"           â”‚   â”‚
â”‚  â”‚ Made by: User (manual)                                   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ âš ï¸ ROLLED BACK on Dec 11 - "MX traffic recovered"       â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ [View Details]                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  [Export History] [Compare Periods]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Rollback Confirmation Modal:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ROLLBACK CHANGE                                          [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  You are about to rollback:                                     â”‚
â”‚                                                                 â”‚
â”‚  Config: Africa/Asia (72245759413)                              â”‚
â”‚  Field: Size Filter                                             â”‚
â”‚  Current: 300x250, 320x50, 728x90, 160x600                     â”‚
â”‚  Restore to: (all sizes - no filter)                           â”‚
â”‚                                                                 â”‚
â”‚  âš ï¸ This will restore the previous setting in Google           â”‚
â”‚     Authorized Buyers via API.                                  â”‚
â”‚                                                                 â”‚
â”‚  Reason for rollback: [_________________________]               â”‚
â”‚                                                                 â”‚
â”‚  [Cancel] [Rollback Now]                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API Endpoints for Rollback:**

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/config/changes` | List all changes with filters |
| GET | `/config/changes/{id}` | Get specific change details |
| POST | `/config/changes/{id}/rollback` | Rollback a specific change |
| GET | `/config/changes/compare?from=DATE&to=DATE` | Compare config states |

**Rollback Safety Rules:**
- Changes older than 30 days require confirmation
- Cannot rollback if dependent changes exist (chain rollback offered)
- AI-auto changes have 24-hour grace period for easy undo
- All rollbacks are themselves recorded (full audit trail)

---

### MCP Integration (Future)

Following the AAIF model, Cat-Scan will expose an MCP server that allows AI agents to:

1. **Query** current config state and performance
2. **Analyze** waste patterns and opportunities
3. **Propose** specific changes with reasoning
4. **Execute** approved changes via Google API

```typescript
// Example MCP tool definition
{
  name: "propose_size_optimization",
  description: "Analyze size coverage and propose INCLUDE list",
  parameters: {
    billing_id: "string",
    days: "number"
  },
  returns: {
    current_sizes: "string[]",
    recommended_sizes: "string[]",
    estimated_qps_savings: "number",
    reasoning: "string"
  }
}
```

---

## The Problem

You pay for every bid request (QPS) that reaches your bidder. But not all traffic is valuable:

| Traffic Type | What Happens | Is It Waste? |
|--------------|--------------|--------------|
| Size you have creatives for | You can bid | No |
| Size you DON'T have creatives for | Can't bid, wasted QPS | **Yes - True Waste** |
| Bid but lost auction | Normal competition | No |
| Won but no click | Cost of business | No |
| Won with suspicious patterns | Potential fraud | Maybe |

**Key insight:** Only **size mismatch** is true waste. Everything else is either competition, cost of business, or requires investigation.

**Typical waste reduction:** 20-40% of QPS

---

## Architecture Overview

```
Google's Ad Universe (Billions/day)
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PRETARGETING FILTER (10 Configs Max)               â”‚
â”‚                                                                 â”‚
â”‚  Each config: "Send me requests that match ALL of:"             â”‚
â”‚    â€¢ Geo = X OR Y OR Z                                          â”‚
â”‚    â€¢ Platform = Mobile OR Desktop                               â”‚
â”‚    â€¢ Size = 300x250 OR 320x50 (INCLUDE-only, no exclude)        â”‚
â”‚    â€¢ Environment = Web OR App                                   â”‚
â”‚                                                                 â”‚
â”‚  âš ï¸ Size filtering is INCLUDE-only                              â”‚
â”‚  âš ï¸ Adding ONE size excludes ALL others                         â”‚
â”‚  âš ï¸ Leave blank = accept ALL sizes                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ENDPOINT BOTTLENECK (90K QPS Total)                â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  US West    â”‚  â”‚    Asia     â”‚  â”‚  US East    â”‚              â”‚
â”‚  â”‚  10K QPS    â”‚  â”‚   30K QPS   â”‚  â”‚  50K QPS    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                 â”‚
â”‚  Your 10 configs sum to 375K virtual QPS,                       â”‚
â”‚  but endpoints can only handle 90K. Configs compete.            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    YOUR BIDDER (Nova Beyond)                    â”‚
â”‚                                                                 â”‚
â”‚  Receives up to 90K QPS. For each request, decides in <100ms    â”‚
â”‚  whether to bid and how much.                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## The RTB Funnel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     THE PROFIT FUNNEL                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  REACHED QUERIES  â†  QPS that matched your pretargeting         â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ CAN YOU BID?â”‚â”€â”€â”€â”€â–ºâ”‚ NO: Wrong size = TRUE WASTE        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚ YES                                                   â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ AUCTION WON?â”‚â”€â”€â”€â”€â–ºâ”‚ NO: Normal competition             â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚ YES                                                   â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ IMPRESSION  â”‚â”€â”€â”€â”€â–ºâ”‚ Delivery failures (VAST errors)    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚ YES                                                   â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   CLICK?    â”‚â”€â”€â”€â”€â–ºâ”‚ NO: Cost of business (95%+ normal) â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚ YES                                                   â”‚
â”‚         â–¼                                                       â”‚
â”‚  CONVERSION? â”€â”€â–º PROFIT                                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Metrics:**
- **Waste Rate** = (reached_queries - impressions) / reached_queries Ã— 100
- **Win Rate** = impressions / reached_queries Ã— 100

---

## Waste Types & Actions

### 1. Size Mismatch (True Waste)

You receive QPS for sizes you don't have creatives for.

| Daily Requests | Priority | Recommendation |
|----------------|----------|----------------|
| > 10,000 | HIGH | Block in pretargeting OR create creative |
| 1,000-10,000 | MEDIUM | Consider adding creative |
| < 1,000 | LOW | Monitor |

**Action:** Generate INCLUDE list of sizes you have creatives for.

### 2. Config Inefficiency

Some pretargeting configs have lower win rates than others.

| Efficiency | Status | Action |
|------------|--------|--------|
| > 75% | Healthy | Maintain |
| 50-75% | Warning | Investigate |
| < 50% | Critical | Review targeting or pause |

### 3. Fraud Signals

Patterns that may indicate invalid traffic (flags for human review, not proof):

| Signal | Evidence | Strength |
|--------|----------|----------|
| High CTR | CTR > 3% (avg ~0.5%) | Medium |
| Clicks > Impressions | Repeated pattern | High |
| Zero conversions | High spend, 0 conversions over 14+ days | Medium |

**Important:** Smart fraud mixes 70-80% real traffic with 20-30% fake. Single signals are not conclusive. VPNs make geo analysis unreliable.

### 4. Zero Engagement

Creatives with significant impressions but no clicks over extended period.

---

## Current Pretargeting Configs (10 Max)

| # | Billing ID | Name | Geos | Budget | QPS Cap |
|---|------------|------|------|--------|---------|
| 1 | 72245759413 | Africa/Asia | BF,BR,CI,CM,EG,NG,SA,SE,IN,PH,KZ | $1,200 | 50K |
| 2 | 83435423204 | ID/BR Android | ID,BR,IN,US,KR,ZA,AR (Android) | $2,000 | 50K |
| 3 | 104602012074 | MENA iOS&AND | SA,AE,EG,PH,IT,ES,BF,KZ,FR,PE,ZA,HU,SK | $1,200 | 50K |
| 4 | 137175951277 | SEA Whitelist | BR,ID,MY,TH,VN (WL) | $1,200 | 30K |
| 5 | 151274651962 | USEast CA/MX | CA,MX (Blacklist) | $1,500 | 5K |
| 6 | 153322387893 | Brazil AND | BR (Android, WL) | $1,500 | 30K |
| 7 | 155546863666 | Asia BL2003 | ID,IN,TH,CN,KR,TR,VN,BD,PH,MY | $1,800 | 50K |
| 8 | 156494841242 | Nova WL | ? | $2,000 | 30K |
| 9 | 157331516553 | US/Global | US,PH,AU,KR,EG,PK,BD,UZ,SA,JP,PE,ZA,HU,SK,AR,KW | $3,000 | 50K |
| 10 | 158323666240 | BR/PH Spotify | BR,PH (Spotify only) | $2,000 | 30K |

**Total Budget:** ~$17,600/day
**Total QPS Cap:** 375K virtual (90K actual endpoint limit)

---

## Proposed UX Design: QPS Optimization Dashboard

### Design Principles

1. **One Screen, Full Control** - See everything, act on anything
2. **Evidence-Based** - Every recommendation shows WHY
3. **Safe by Default** - All changes are printouts for manual implementation
4. **Progressive Disclosure** - Summary first, drill down for details

### Main Dashboard Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QPS OPTIMIZATION                                    [7 days â–¼] [Refresh]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  HEALTH SUMMARY                                                      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚  â”‚ WASTE RATE   â”‚  â”‚ WIN RATE     â”‚  â”‚ EFFICIENCY   â”‚               â”‚   â”‚
â”‚  â”‚  â”‚    23.5%     â”‚  â”‚    76.5%     â”‚  â”‚    82.1%     â”‚               â”‚   â”‚
â”‚  â”‚  â”‚  â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘  â”‚  â”‚  â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘  â”‚               â”‚   â”‚
â”‚  â”‚  â”‚  â†“ 2.1% vs  â”‚  â”‚  â†‘ 1.3% vs   â”‚  â”‚  â†’ same vs   â”‚               â”‚   â”‚
â”‚  â”‚  â”‚  last week   â”‚  â”‚  last week   â”‚  â”‚  last week   â”‚               â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  [3 actions recommended] [View Details â†’]                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  QUICK ACTIONS                                                       â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ âš  Size Mismatch: 5 sizes receiving traffic without creatives  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   Est. savings: 2,340 QPS/day ($42/month)                      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   [Generate Block List] [View Sizes]                           â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ âš  Config #5 (CA/MX) performing below threshold: 50.8% win     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   vs account avg 76.5%                                         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   [Investigate] [View Config]                                  â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ ğŸ” 2 fraud signals flagged for review                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   High CTR on com.sketchy.game (4.2% vs 0.5% avg)              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚   [Review Signals]                                             â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab: Size Coverage

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SIZE COVERAGE                                         [Filter by Format â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Coverage Rate: 74.6% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  SIZES WITH CREATIVES (Covered)   â”‚  SIZES WITHOUT (Gaps)           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  âœ“ 300x250    107,663 QPS   127   â”‚  âœ— 360x300   11,584 QPS  HIGH   â”‚   â”‚
â”‚  â”‚  âœ“ 320x50      15,234 QPS    89   â”‚  âœ— 336x280    3,694 QPS  MED    â”‚   â”‚
â”‚  â”‚  âœ“ 728x90       8,921 QPS    45   â”‚  âœ— 336x300    1,457 QPS  MED    â”‚   â”‚
â”‚  â”‚  âœ“ 160x600      6,542 QPS    32   â”‚  âœ— 392x327      690 QPS  LOW    â”‚   â”‚
â”‚  â”‚  âœ“ 300x600      4,231 QPS    28   â”‚                                 â”‚   â”‚
â”‚  â”‚  ...                              â”‚                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  RECOMMENDED INCLUDE LIST                                            â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  If you set pretargeting to INCLUDE only these sizes:               â”‚   â”‚
â”‚  â”‚  â€¢ You will KEEP: 74.6% of QPS (traffic you can serve)              â”‚   â”‚
â”‚  â”‚  â€¢ You will LOSE: 25.4% of QPS (can't serve anyway)                 â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  âš ï¸ WARNING: Adding ANY size excludes all others!                   â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  [Copy Size List] [Export to CSV] [View Implementation Guide]       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab: Config Performance

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CONFIG PERFORMANCE                                    [Sort: Efficiency â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Config                  Reached    Imps    Win%   Spend    Status   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Africa/Asia (72245...)  126,263   92,250  73.1%  $1,180   â— Good    â”‚   â”‚
â”‚  â”‚ ID/BR Android (834...)       45       31  68.9%     $12   â—‹ Low Vol â”‚   â”‚
â”‚  â”‚ MENA iOS&AND (106...)    45,821   35,104  76.6%    $892   â— Good    â”‚   â”‚
â”‚  â”‚ SEA Whitelist (137...)   32,456   26,789  82.5%    $654   â— Good    â”‚   â”‚
â”‚  â”‚ USEast CA/MX (151...)       826      420  50.8%     $45   âš  Warning â”‚   â”‚
â”‚  â”‚ Brazil AND (153...)      18,234   14,892  81.7%    $423   â— Good    â”‚   â”‚
â”‚  â”‚ ...                                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ INVESTIGATION: USEast CA/MX (151274651962)                          â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚ This config has 50.8% efficiency (account avg: 76.5%)               â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚ Possible causes:                                                    â”‚   â”‚
â”‚  â”‚ â€¢ Size mismatch in this geo (check size breakdown)                  â”‚   â”‚
â”‚  â”‚ â€¢ Poor inventory quality in CA/MX                                   â”‚   â”‚
â”‚  â”‚ â€¢ Pretargeting too broad                                            â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚ Breakdown:                                                           â”‚   â”‚
â”‚  â”‚ [By Size] [By Geo] [By Publisher] [By App]                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tab: Fraud Signals

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRAUD SIGNALS                           [Filter: All â–¼] [Export Flagged]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  âš ï¸ These are PATTERNS for review, not proof of fraud.                      â”‚
â”‚     Smart fraud mixes real with fake. VPNs make geo analysis unreliable.    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â— HIGH: com.sketchy.game                                            â”‚   â”‚
â”‚  â”‚   Signal: CTR 4.2% (avg for category: 0.8%)                         â”‚   â”‚
â”‚  â”‚   Evidence: 1,247 clicks / 29,690 impressions over 14 days          â”‚   â”‚
â”‚  â”‚   Spend: $342                                                        â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚   [Mark Reviewed] [Block App] [Clear - False Positive]              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â—‹ MEDIUM: com.another.app                                           â”‚   â”‚
â”‚  â”‚   Signal: Clicks > Impressions on 3 of 7 days                       â”‚   â”‚
â”‚  â”‚   Evidence: Could be timing issue OR click injection                â”‚   â”‚
â”‚  â”‚   Spend: $89                                                         â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚   [Mark Reviewed] [Monitor] [Clear - Timing Issue]                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Implementation Guide Modal

When user clicks "View Implementation Guide" for size list:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IMPLEMENT SIZE INCLUDE LIST                                          [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  SIZES TO INCLUDE (12 sizes, based on your creative inventory):             â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  300x250, 320x50, 728x90, 160x600, 300x600, 320x100, 468x60,        â”‚   â”‚
â”‚  â”‚  120x600, 300x50, 970x90, 250x250, 336x280                          â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  [Copy to Clipboard]                                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  STEPS TO IMPLEMENT:                                                        â”‚
â”‚                                                                             â”‚
â”‚  1. Go to Authorized Buyers UI                                              â”‚
â”‚     https://authorized-buyers.google.com/                                   â”‚
â”‚                                                                             â”‚
â”‚  2. Navigate to: Bidder Settings â†’ Pretargeting                             â”‚
â”‚                                                                             â”‚
â”‚  3. Edit the config you want to modify                                      â”‚
â”‚                                                                             â”‚
â”‚  4. Under "Creative dimensions", add the sizes above                        â”‚
â”‚                                                                             â”‚
â”‚  5. Click Save                                                              â”‚
â”‚                                                                             â”‚
â”‚  âš ï¸ WARNING: Once you add ANY size, all unlisted sizes are EXCLUDED        â”‚
â”‚  âš ï¸ Double-check the list before saving                                    â”‚
â”‚  âš ï¸ Monitor traffic for 24-48 hours after applying                         â”‚
â”‚                                                                             â”‚
â”‚  WHAT YOU'LL LOSE:                                                          â”‚
â”‚  â€¢ 360x300: 11,584 QPS/day (no creatives)                                   â”‚
â”‚  â€¢ 336x300:  3,694 QPS/day (no creatives)                                   â”‚
â”‚  â€¢ 392x327:    690 QPS/day (no creatives)                                   â”‚
â”‚                                                                             â”‚
â”‚  OPPORTUNITY: High-volume sizes worth creating creatives for:               â”‚
â”‚  â€¢ 360x300: 11,584 QPS/day - worth investigating                            â”‚
â”‚                                                                             â”‚
â”‚  [Apply One Config at a Time] [Download Full Report]                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## CLI Commands

```bash
cd creative-intelligence

# Import performance CSV
./venv/bin/python cli/qps_analyzer.py import /path/to/report.csv

# Validate CSV before import
./venv/bin/python cli/qps_analyzer.py validate /path/to/report.csv

# View database summary
./venv/bin/python cli/qps_analyzer.py summary

# Generate waste analysis report
./venv/bin/python cli/qps_analyzer.py full-report --days 7

# Generate size coverage report
./venv/bin/python cli/qps_analyzer.py coverage --days 7

# Generate recommended INCLUDE list
./venv/bin/python cli/qps_analyzer.py include-list

# Detect fraud signals
./venv/bin/python cli/qps_analyzer.py fraud --days 14

# Generate video thumbnails
./venv/bin/python cli/qps_analyzer.py generate-thumbnails --limit 100
```

---

## API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/analytics/waste` | Complete waste analysis report |
| GET | `/analytics/spend-stats?days=N` | Spend and CPM stats |
| GET | `/analytics/rtb-funnel/configs` | Pretargeting config performance |
| GET | `/analytics/size-coverage` | Size gap analysis |
| GET | `/settings/pretargeting` | Current pretargeting configs |
| GET | `/settings/endpoints` | RTB endpoint status |
| POST | `/recommendations/generate` | Generate optimization recommendations |

---

## Implementation Modules

| Module | Location | Purpose |
|--------|----------|---------|
| WasteAnalyzer | `analytics/waste_analyzer.py` | Core waste analysis engine |
| SizeCoverageAnalyzer | `analytics/size_coverage_analyzer.py` | Size gap detection |
| PretargetingRecommender | `analytics/pretargeting_recommender.py` | Config recommendations |
| FraudAnalyzer | `analytics/fraud_analyzer.py` | Fraud signal detection |
| RTBFunnelAnalyzer | `analytics/rtb_funnel_analyzer.py` | Funnel metrics |
| ConfigAnalyzer | `analytics/config_analyzer.py` | Config performance |

---

## Success Metrics

| Metric | Target | How to Measure |
|--------|--------|----------------|
| Size Match Rate | 90%+ | % of reached queries for sizes you have creatives |
| Win Rate | 75%+ | Impressions / Reached Queries |
| Config Balance | Low variance | Efficiency variance across 10 configs |
| Fraud Flag Rate | Track trend | % of traffic flagged as suspicious |

---

## Safety Guidelines

### DO

- Generate printouts for human review
- Apply changes one config at a time
- Monitor for 24-48 hours after changes
- Document why changes were made
- Review with AdOps before applying

### DON'T

- Auto-apply pretargeting changes
- Claim definitive fraud detection (only flag patterns)
- Assume geographic anomalies indicate fraud (VPNs)
- Delete or modify data without confirmation
- Apply all changes at once

---

## References

- [Google Authorized Buyers UI](https://authorized-buyers.google.com/)
- [RTB API Docs](https://developers.google.com/authorized-buyers/apis/guides/rtb-api)
- [Pretargeting Guide](https://developers.google.com/authorized-buyers/apis/guides/rtb-api/pretargeting-configs)
- [Geo ID Reference](https://storage.googleapis.com/adx-rtb-dictionaries/geo-table.csv)

---

## Consolidated From

This document combines and supersedes:
- `docs/phases/RTBcat_QPS_Optimization_Strategy_v2.md`
- `docs/phases/CLAUDE_CLI_QPS_Optimization_Analyzer_v2.md`
- `docs/phases/PHASE_11_MASTER_PLAN.md`
- Relevant sections of `docs/HANDOVER.md`

---

**Built for RTB bidders who want to improve QPS efficiency.**
